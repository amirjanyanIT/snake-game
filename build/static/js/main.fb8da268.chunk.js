(window["webpackJsonpsnake-game"]=window["webpackJsonpsnake-game"]||[]).push([[0],{34:function(e,t,a){e.exports=a(48)},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),i=a.n(o),s=a(17),c=a(30),l=a(32),p=[],u={resolution:{width:1024,height:768},areaSize:17,gameSpeed:60},y=a(20),S=a(18);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(a,!0).forEach(function(t){Object(S.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var m={position:{x:0,y:0},oldPosition:{x:0,y:0},tailParts:[],scheduledTailPart:null,goingTo:null,fruit:null};function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach(function(t){Object(S.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var f={score:0,status:"passive"},b=Object(s.combineReducers)({Area:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AREA":return t.payload;default:return e}},Settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;return t.type,e},Snake:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SNAKE_POSITION":return d({},e,{position:d({},t.payload)});case"SET_NEW_SCHEDULED_TAIL_PART":return d({},e,{scheduledTailPart:t.payload});case"REMOVE_SCHEDULED_TAIL_PART":return d({},e,{scheduledTailPart:null});case"SET_SNAKE_GOING_TO":return d({},e,{goingTo:t.payload});case"SET_NEW_TAIL_PART":return d({},e,{tailParts:[].concat(Object(y.a)(e.tailParts),[t.payload])});case"SET_MOVED_TAIL_PARTS":return d({},e,{tailParts:t.payload});case"SET_NEW_FRUIT":return console.log(t.payload),d({},e,{fruit:t.payload});case"REMOVE_FRUIT":return d({},e,{fruit:null});case"REMOVE_TAIL_PARTS":return d({},e,{tailParts:[]});case"SET_SNAKE_OLD_POSITION":return d({},e,{oldPosition:t.payload});default:return e}},Game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_GAME_SCORE":return O({},e,{score:0});case"SET_GAME_STATUS":return O({},e,{status:t.payload});case"SET_TAIL_LENGTH":return O({},e,{tailLength:t.payload});case"ADD_SCORE":return O({},e,{score:e.score+10});default:return e}}}),g=Object(s.applyMiddleware)(l.a),v=Object(s.createStore)(b,Object(c.composeWithDevTools)(g)),T=a(5),_=a(2),j=a(3),w=a(6),P=a(4),A=a(7),N=a(11),k=a(16),I=function(e){function t(){return Object(_.a)(this,t),Object(w.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Main"},r.a.createElement("p",{className:"game-title typography primary"},"SNAKE GAME"),r.a.createElement("div",{className:"actions"},r.a.createElement(N.b,{to:"/Game"},r.a.createElement("p",{className:"typography primary"},"Start")),r.a.createElement(N.b,{to:"/Settings"},r.a.createElement("p",{className:"typography primary"},"Settings"))))}}]),t}(n.Component),G=a(12),D=a.n(G),R=function(e){function t(){return Object(_.a)(this,t),Object(w.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(j.a)(t,[{key:"setCurrentPositionColor",value:function(){var e="#282c34";if(D.a.isEqual(this.props.cords,this.props.Snake.position)&&(e="#61d9fa"),this.props.Snake.tailParts.length){var t=!0,a=!1,n=void 0;try{for(var r,o=this.props.Snake.tailParts[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value;D.a.isEqual(this.props.cords,i)&&(e="#61d9fa")}}catch(s){a=!0,n=s}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}}return this.props.Snake.fruit&&D.a.isEqual(this.props.Snake.fruit,this.props.cords)&&(e="purple"),e}},{key:"render",value:function(){return r.a.createElement("div",{className:"Position",style:{backgroundColor:this.setCurrentPositionColor(),width:this.props.Settings.resolution.height/this.props.Settings.areaSize}})}}]),t}(n.Component),x=Object(T.b)(function(e){return{Snake:e.Snake,Settings:e.Settings}})(R),M=function(e){function t(){return Object(_.a)(this,t),Object(w.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"SET_NEW_FRUIT",payload:{x:2,y:2}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Area",style:{width:this.props.Settings.resolution.height}},this.props.Area.map(function(t,a){return r.a.createElement("div",{className:"Row",style:{height:e.props.Settings.resolution.height/e.props.Settings.areaSize},key:a},t.map(function(e,t){return r.a.createElement(x,{key:t,cords:e})}))}))}}]),t}(n.Component),C=Object(T.b)(function(e){return{Area:e.Area,Settings:e.Settings,Game:e.Game,Snake:e.Snake}})(M),L=function(e){function t(){return Object(_.a)(this,t),Object(w.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"States",style:{width:this.props.Settings.resolution.width-this.props.Settings.resolution.height}},r.a.createElement("ul",null,r.a.createElement("li",null,"Score\xa0\xa0 ",this.props.Game.score," ")),r.a.createElement("div",{className:"actions"},r.a.createElement(N.b,{to:"/"},"Menu")))}}]),t}(n.Component),K=Object(T.b)(function(e){return{Game:e.Game,Settings:e.Settings}})(L);function U(e){for(var t=[],a=0;a<e;a++){t.push([]);for(var n=0;n<e;n++)t[a].push({y:a,x:n})}return t}var z=function e(t,a){var n=Math.floor(Math.random()*(t-0+1))+0,r=!0,o=!1,i=void 0;try{for(var s,c=a[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){if(n!==s.value)return console.log(n),n;console.log({max:t,exludedNumbers:a}),e(t,a)}}catch(l){o=!0,i=l}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}},V=function(){return function(e,t){var a=t().Snake;D.a.isEqual(a.position,a.fruit)&&(e({type:"ADD_SCORE"}),e({type:"REMOVE_FRUIT"}),e({type:"SET_NEW_SCHEDULED_TAIL_PART",payload:a.position}),e(function(e,t){var a=t(),n=a.Snake,r=a.Settings,o=[n.scheduledTailPart.y],i=[n.scheduledTailPart.x];n.tailParts.length&&n.tailParts.forEach(function(e){o.push(e.y),i.push(e.x)}),i=Object(y.a)(new Set(i)),o=Object(y.a)(new Set(o));var s={};s.y=z(r.areaSize-1,o),s.x=z(r.areaSize-1,i),e({type:"SET_NEW_FRUIT",payload:s})}))}};function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var q=function(e){return function(t,a){var n=a(),r=n.Snake,o=n.Settings,i=n.Game,s=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(a,!0).forEach(function(t){Object(S.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},r.position);switch(e){case"left":0!==r.position.x?s.x--:s.x=o.areaSize-1,t({type:"SET_SNAKE_GOING_TO",payload:e}),t({type:"SET_SNAKE_POSITION",payload:s});break;case"right":r.position.x!==o.areaSize-1?s.x++:s.x=0,t({type:"SET_SNAKE_GOING_TO",payload:e}),t({type:"SET_SNAKE_POSITION",payload:s});break;case"up":0!==r.position.y?s.y--:s.y=o.areaSize-1,t({type:"SET_SNAKE_GOING_TO",payload:e}),t({type:"SET_SNAKE_POSITION",payload:s});break;case"down":r.position.y!==o.areaSize-1?s.y++:s.y=0,t({type:"SET_SNAKE_GOING_TO",payload:e}),t({type:"SET_SNAKE_POSITION",payload:s})}t({type:"SET_GAME_STATUS",payload:"active"}),"passive"!==i.status&&(t({type:"SET_SNAKE_OLD_POSITION",payload:r.position}),t(V()),t(function(e,t){var a=t().Snake;a.scheduledTailPart&&!D.a.isEqual(a.position,a.scheduledTailPart)&&(e({type:"SET_NEW_TAIL_PART",payload:a.scheduledTailPart}),e({type:"REMOVE_SCHEDULED_TAIL_PART"}))}),t(function(e,t){var a=t().Snake;if(a.tailParts.length&&!D.a.isEqual(a.position,a.tailParts[0])){var n=[];a.tailParts.forEach(function(e,t){0===t?n.push(a.oldPosition):n.push(a.tailParts[t-1])}),e({type:"SET_MOVED_TAIL_PARTS",payload:n})}}),t(function(e,t){var a=t().Snake,n=!1,r=!0,o=!1,i=void 0;try{for(var s,c=a.tailParts[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value;D.a.isEqual(a.position,l)&&(n=!0)}}catch(p){o=!0,i=p}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}n&&e({type:"SET_GAME_STATUS",payload:"gameover"})}))}},F=function(e){function t(){return Object(_.a)(this,t),Object(w.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){console.log(111),this.props.dispatch(function(e,t){var a,n=t().Settings;e({type:"SET_AREA",payload:U(n.areaSize)}),e({type:"RESET_GAME_SCORE"}),e({type:"SET_GAME_STATUS",payload:"passive"}),e({type:"SET_SNAKE_POSITION",payload:(a=n.areaSize,{x:a/2+.5,y:a/2+.5})}),e({type:"REMOVE_TAIL_PARTS"})})}},{key:"onGameKeyDown",value:function(e){var t=this,a=e.which;if(a>=37&&a<=40||96===a)switch(a){case 37:"right"!==this.props.Snake.goingTo&&(clearInterval(window.move),window.move=setInterval(function(){t.props.dispatch(q("left"))},this.props.Settings.gameSpeed));break;case 38:"down"!==this.props.Snake.goingTo&&(clearInterval(window.move),window.move=setInterval(function(){t.props.dispatch(q("up"))},this.props.Settings.gameSpeed));break;case 39:"left"!==this.props.Snake.goingTo&&(clearInterval(window.move),window.move=setInterval(function(){t.props.dispatch(q("right"))},this.props.Settings.gameSpeed));break;case 40:"up"!==this.props.Snake.goingTo&&(clearInterval(window.move),window.move=setInterval(function(){t.props.dispatch(q("down"))},this.props.Settings.gameSpeed));break;default:clearInterval(window.move)}}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Game",onKeyDown:this.onGameKeyDown.bind(this),tabIndex:"1"},r.a.createElement(C,null),r.a.createElement(K,null)),"gameover"===this.props.Game.status&&r.a.createElement(k.a,{to:"/gameover"}))}}]),t}(n.Component),H=Object(T.b)(function(e){return{Settings:e.Settings,Snake:e.Snake,Game:e.Game}})(F),J=function(e){function t(){return Object(_.a)(this,t),Object(w.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){clearInterval(window.move)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"GameOver"},r.a.createElement("div",{className:"info"},r.a.createElement("p",{className:"typography secondary"},"Game Over"),r.a.createElement("p",{className:"typography secondary"},"score ",this.props.Game.score)),r.a.createElement("div",{className:"actions"},r.a.createElement(N.b,{className:"typography primary",to:"/Game"},"Try Again"),r.a.createElement("br",null),r.a.createElement(N.b,{className:"typography primary",to:"/"},"Menu"))),"passive"===this.props.Game.status&&r.a.createElement(k.a,{to:"/Game"}))}}]),t}(n.Component),B=Object(T.b)(function(e){return{Game:e.Game}})(J),Q=function(e){function t(){return Object(_.a)(this,t),Object(w.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Snake-game",style:{width:this.props.Settings.resolution.width,height:this.props.Settings.resolution.height}},r.a.createElement(N.a,null,r.a.createElement(k.b,{exact:!0,path:"/",component:I}),r.a.createElement(k.b,{exact:!0,path:"/Game",component:H}),r.a.createElement(k.b,{exact:!0,path:"/gameover",component:B})))}}]),t}(n.Component),X=Object(T.b)(function(e){return{Settings:e.Settings}})(Q);a(45),a(46),a(47);i.a.render(r.a.createElement(T.a,{store:v},r.a.createElement(X,null)),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.fb8da268.chunk.js.map